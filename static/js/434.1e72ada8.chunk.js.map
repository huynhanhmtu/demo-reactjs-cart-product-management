{"version":3,"file":"static/js/434.1e72ada8.chunk.js","mappings":"0OAgBMA,EAAwB,iBAC5B,CACEC,KAAMC,EAAAA,KAIJC,EAAwB,SAACC,GAC7B,MAAO,CACLH,KAAMC,EAAAA,GACNG,QAASD,IAGPE,EAAuB,SAACC,GAC5B,MAAO,CACLN,KAAMC,EAAAA,GACNG,QAASE,I,SCzBE,SAASC,EAAgBC,GACtC,IAAMC,GAAWC,EAAAA,EAAAA,MAEXC,GAAQC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,mBAAmBH,SACtDI,GAAUH,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,mBAAmBC,WACxDT,GAAQM,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMC,mBAAmBR,UAE5DU,EAAAA,EAAAA,YAAU,WACR,IDVgCC,ECU1BC,EAAUV,EAAMW,MAAMC,OAAOH,GACnCR,GDXgCQ,ECWHC,EDXU,SAACT,GAC1CA,EAASV,KACTsB,EAAAA,EAAAA,IAAA,4CAA6CJ,IAC1CK,MAAK,SAAAC,GACJd,EAASP,EAAsBqB,EAAOpB,KAAKqB,aAE5CC,OAAM,SAAAnB,GACLG,EAASJ,EAAqBC,YCK/B,IAqCH,OAAIS,GACK,SAAC,IAAD,KAGP,gBAAKW,UAAU,YAAf,UACE,gBAAKA,UAAU,WAAf,SAvCEpB,GACK,gBAAKoB,UAAU,aAAf,SAA6BpB,IAElCK,GACK,UAAC,EAAAgB,SAAD,YACL,gBAAKD,UAAU,WAAf,UACE,gBAAKA,UAAU,YAAYE,IAAKjB,EAAMkB,aAExC,iBAAKH,UAAU,WAAf,WACE,kBAAOA,UAAU,QAAjB,UACE,8BACE,2BACE,eAAII,MAAO,CAAEC,MAAO,MAAOC,WAAY,QAAvC,0BACA,wBAAKrB,EAAMsB,cAEb,2BACE,eAAIH,MAAO,CAAEC,MAAO,MAAOC,WAAY,QAAvC,4BACA,wBAAKrB,EAAMuB,WAEb,2BACE,eAAIJ,MAAO,CAAEC,MAAO,MAAOC,WAAY,QAAvC,2CACA,wBAAK,IAAIG,KAAKxB,EAAMyB,eAAeC,gCAIzC,gBAAKX,UAAU,aAAf,UACE,SAAC,KAAD,CAAMA,UAAU,kBAAkBY,GAAE,mBAAc3B,EAAM4B,QAAxD,8CAvBR","sources":["containers/HomeTemplate/DetailMoviePage/modules/actions.js","containers/HomeTemplate/DetailMoviePage/index.js"],"sourcesContent":["import * as ActionType from './constants';\r\nimport api from 'utils/apiUtils';\r\n\r\n\r\nexport const actFetchDetailMovie = (id) => (dispatch) => {\r\n  dispatch(actDetailMovieRequest());\r\n  api.get(`QuanLyPhim/LayThongTinPhim?MaPhim=${id}`)\r\n    .then(result => {\r\n      dispatch(actDetailMovieSuccess(result.data.content));\r\n    })\r\n    .catch(error => {\r\n      dispatch(actDetailMovieFailed(error));\r\n    });\r\n}\r\n\r\n\r\nconst actDetailMovieRequest = () => (\r\n  {\r\n    type: ActionType.DETAIL_MOVIE_REQUEST,\r\n  }\r\n);\r\n\r\nconst actDetailMovieSuccess = (data) => {\r\n  return {\r\n    type: ActionType.DETAIL_MOVIE_SUCCESS,\r\n    payload: data\r\n  }\r\n};\r\nconst actDetailMovieFailed = (error) => {\r\n  return {\r\n    type: ActionType.DETAIL_MOVIE_FAILED,\r\n    payload: error\r\n  }\r\n};","import React, { Fragment, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Loading from 'components/Loader';\r\nimport { actFetchDetailMovie } from './modules/actions';\r\n\r\nexport default function DetailMoviePage(props) {\r\n  const dispatch = useDispatch();\r\n  // Get data from reducer\r\n  const movie = useSelector(state => state.detailMovieReducer.movie);\r\n  const loading = useSelector(state => state.detailMovieReducer.loading);\r\n  const error = useSelector(state => state.detailMovieReducer.error);\r\n\r\n  useEffect(() => {\r\n    const movieId = props.match.params.id;\r\n    dispatch(actFetchDetailMovie(movieId));\r\n  }, []);\r\n\r\n  const handleRenderData = () => {\r\n    if (error) {\r\n      return <div className='m-auto p-3'>{error}</div>\r\n    }\r\n    if (movie) {\r\n      return <Fragment>\r\n        <div className='col-md-5'>\r\n          <img className='img-fluid' src={movie.hinhAnh} />\r\n        </div>\r\n        <div className='col-md-7'>\r\n          <table className='table'>\r\n            <tbody>\r\n              <tr>\r\n                <td style={{ width: \"30%\", fontWeight: \"bold\" }}>Tên phim</td>\r\n                <td>{movie.tenPhim}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style={{ width: \"30%\", fontWeight: \"bold\" }}>Mô tả</td>\r\n                <td>{movie.moTa}</td>\r\n              </tr>\r\n              <tr>\r\n                <td style={{ width: \"30%\", fontWeight: \"bold\" }}>Ngày khởi chiếu</td>\r\n                <td>{new Date(movie.ngayKhoiChieu).toLocaleDateString()}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div className='text-right'>\r\n            <Link className='btn btn-success' to={`/booking/${movie.maPhim}`}>Đặt vé</Link>\r\n            {/* Tại đây chưa tạo route cho trang booking, nhưng kiểm tra lại đường dẫn ảnh svg của trang PageNotFound */}\r\n          </div>\r\n        </div>\r\n      </Fragment>\r\n    };\r\n  }\r\n\r\n  if (loading) {\r\n    return <Loading />\r\n  }\r\n  return (\r\n    <div className='container'>\r\n      <div className='row py-3'>\r\n        {handleRenderData()}\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":["actDetailMovieRequest","type","ActionType","actDetailMovieSuccess","data","payload","actDetailMovieFailed","error","DetailMoviePage","props","dispatch","useDispatch","movie","useSelector","state","detailMovieReducer","loading","useEffect","id","movieId","match","params","api","then","result","content","catch","className","Fragment","src","hinhAnh","style","width","fontWeight","tenPhim","moTa","Date","ngayKhoiChieu","toLocaleDateString","to","maPhim"],"sourceRoot":""}